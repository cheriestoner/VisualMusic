#N canvas 383 511 985 739 12;
#X declare -lib ceammc;
#X obj 242 43 adc~;
#X obj 479 115 metro 100;
#N canvas 0 50 450 250 (subpatch) 0;
#X array Envelope 100 float 5;
#A 0 0.0976423 0.10127 0.103294 0.108276 0.114337 0.116324 0.113423 0.119323 0.109687 0.105685 0.102364 0.093372 0.087589 0.0761931 0.0780194 0.0613895 0.0526715 0.0489717 0.0341859 0.03542 0.0366214 0.025119 0.0229253 0.0189683 0.0138914 0.00953136 0.010398 0.0127524 0.00720699 0.00751902 0.00782297 0.00630868 0.00995718 0.0102027 0.0104414 0.0227419 0.0242006 0.0201922 0.0295476 0.0320494 0.0329816 0.0344918 0.0429029 0.0414628 0.0388431 0.0371828 0.0289177 0.0253618 0.0188661 0.0131187 0.00629275 0.00263803 -0.00666686 -0.00610488 0.000177647 -0.0048458 -0.00522895 0.00012979 0.00235 -0.00241994 0.0034787 0.0228203 0.0215055 0.0286659 0.0555735 0.0550112 0.0577734 0.0658964 0.0659822 0.0699796 0.0651276 0.0799886 0.079115 0.0667855 0.0743387 0.0690385 0.0653584 0.0611496 0.0561232 0.0687029 0.0665062 0.067368 0.0706148 0.0734773 0.0747571 0.0687568 0.0707283 0.069025 0.0546793 0.0572464 0.0555233 0.0481 0.0480799 0.0471485 0.0546802 0.0363884 0.0293676 0.0179768 0.0119718 -0.00264944;
#X coords 0 1 99 -1 200 140 1 0 0;
#X restore 620 31 graph;
#X obj 423 69 *~ 10;
#X obj 479 80 loadbang;
#X floatatom 283 245 5 0 0 2 Pitch - - 0;
#X obj 169 276 bonk~;
#X msg 33 77 \; pd dsp 1;
#X obj 33 33 loadbang;
#X obj 302 131 lop~ 4000;
#X floatatom 133 370 5 0 0 0 Template\ number - - 0;
#X floatatom 173 394 5 0 0 0 Velocity - - 0;
#X floatatom 214 422 5 0 0 0 "Spectral\ centroid" - - 0;
#X obj 133 340 unpack f f f;
#X obj 169 300 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 400 243 5 0 0 2 Sound\ Level(db) - - 0;
#X floatatom 518 243 5 0 0 2 Note - - 0;
#X obj 479 148 tabwrite~ Envelope;
#X msg 95 247 minvel \$1;
#X obj 98 215 hsl 60 15 0 127 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 242 153 s~ sig;
#X obj 422 35 r~ sig;
#X obj 169 202 r~ sig;
#X obj 242 80 hip~ 80;
#X obj 242 105 hip~ 80;
#X obj 95 161 loadbang;
#X floatatom 234 376 5 0 0 1 ms - - 0;
#X obj 177 253 bng 15 250 50 0 empty note empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 283 201 sigmund~ -npts 2048 -hop 512 pitch env notes;
#X obj 518 274 s note;
#X obj 323 276 pack f f;
#X msg 95 186 60;
#X obj 234 339 attackTime~ 2048;
#X obj 173 494 SendAttackOSC;
#X obj 173 464 pack f f f;
#N canvas 187 239 732 576 vanillaVer 0;
#X floatatom 340 193 5 0 0 2 Pitch - - 0;
#X obj 144 146 bonk~;
#X floatatom 108 240 5 0 0 0 Template\ number - - 0;
#X floatatom 148 264 5 0 0 0 Velocity - - 0;
#X floatatom 189 292 5 0 0 0 "Spectral\ centroid" - - 0;
#X obj 108 210 unpack f f f;
#X obj 144 170 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 347 126 todo: how to filter out background noise;
#X floatatom 457 191 5 0 0 2 Sound\ Level(db) - - 0;
#X floatatom 575 191 5 0 0 2 Note - - 0;
#X msg 70 117 minvel \$1;
#X obj 73 85 hsl 60 15 0 127 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 144 72 r~ sig;
#X obj 339 101 r~ sig;
#X obj 70 31 loadbang;
#X floatatom 209 246 5 0 0 1 ms - - 0;
#X obj 152 123 bng 15 250 50 0 empty note empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 340 149 sigmund~ -npts 2048 -hop 512 pitch env notes;
#X obj 575 222 s note;
#X obj 380 224 pack f f;
#X msg 70 56 60;
#X floatatom 340 366 5 0 0 0 - - - 0;
#X obj 340 341 int;
#X obj 340 318 + 0.49999;
#X obj 209 209 attackTime~ 2048;
#X obj 148 334 pack f f f;
#X msg 449 392 add \$1 \$2;
#X msg 475 363 clear;
#X msg 498 337 bang;
#X obj 483 489 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 475 419 write pitchamp.txt;
#X obj 430 458 qlist;
#X obj 380 257 s PitchAmp;
#X obj 148 364 s Attack;
#X connect 0 0 19 0;
#X connect 0 0 23 0;
#X connect 1 0 6 0;
#X connect 1 1 5 0;
#X connect 3 0 25 0;
#X connect 4 0 25 1;
#X connect 5 0 2 0;
#X connect 5 1 3 0;
#X connect 5 2 4 0;
#X connect 6 0 24 0;
#X connect 8 0 19 1;
#X connect 9 0 18 0;
#X connect 10 0 1 0;
#X connect 11 0 10 0;
#X connect 12 0 1 0;
#X connect 13 0 17 0;
#X connect 13 0 24 0;
#X connect 14 0 20 0;
#X connect 16 0 1 0;
#X connect 17 0 0 0;
#X connect 17 1 8 0;
#X connect 17 2 9 0;
#X connect 19 0 26 0;
#X connect 19 0 32 0;
#X connect 20 0 11 0;
#X connect 22 0 21 0;
#X connect 23 0 22 0;
#X connect 24 0 15 0;
#X connect 24 0 25 2;
#X connect 25 0 33 0;
#X connect 26 0 31 0;
#X connect 27 0 31 0;
#X connect 28 0 31 0;
#X connect 30 0 31 0;
#X connect 31 1 29 0;
#X restore 66 551 pd vanillaVer;
#X obj 378 369 r~ sig;
#X obj 477 401 an.pitchtrack~;
#X obj 60 581 declare -lib ceammc;
#X obj 378 400 an.tempo~;
#X obj 628 403 an.onset~;
#X obj 524 429 ftom;
#X floatatom 524 453 5 0 0 0 - - - 0;
#X floatatom 567 429 5 0 0 0 - - - 0;
#X obj 628 427 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 690 431 20 0 0 0 - - - 0;
#X obj 478 366 r~ sig;
#X obj 590 339 r~ sig;
#X floatatom 378 424 5 0 0 0 - - - 0;
#X msg 678 366 reset;
#X obj 690 308 hsl 60 15 -80 0 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 687 254 loadbang;
#X msg 687 279 -70;
#X msg 685 331 @silence \$1;
#X obj 378 451 SendTempoOSC;
#X obj 524 476 SendPitchOSC;
#X obj 690 454 SendOnsetOSC;
#X obj 591 365 gain~;
#X obj 649 330 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 649 300 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 580 299 loadbang;
#X connect 0 0 23 0;
#X connect 1 0 17 0;
#X connect 3 0 17 0;
#X connect 4 0 1 0;
#X connect 5 0 30 0;
#X connect 6 0 14 0;
#X connect 6 1 13 0;
#X connect 8 0 7 0;
#X connect 11 0 34 0;
#X connect 12 0 34 1;
#X connect 13 0 10 0;
#X connect 13 1 11 0;
#X connect 13 2 12 0;
#X connect 14 0 32 0;
#X connect 15 0 30 1;
#X connect 16 0 29 0;
#X connect 18 0 6 0;
#X connect 19 0 18 0;
#X connect 21 0 3 0;
#X connect 22 0 6 0;
#X connect 22 0 32 0;
#X connect 22 0 28 0;
#X connect 23 0 24 0;
#X connect 24 0 20 0;
#X connect 25 0 31 0;
#X connect 27 0 6 0;
#X connect 28 0 5 0;
#X connect 28 1 15 0;
#X connect 28 2 16 0;
#X connect 31 0 19 0;
#X connect 32 0 26 0;
#X connect 32 0 34 2;
#X connect 34 0 33 0;
#X connect 36 0 39 0;
#X connect 37 1 41 0;
#X connect 37 2 43 0;
#X connect 39 0 48 0;
#X connect 40 0 44 0;
#X connect 40 1 45 0;
#X connect 41 0 42 0;
#X connect 42 0 55 0;
#X connect 45 0 56 0;
#X connect 46 0 37 0;
#X connect 47 0 57 0;
#X connect 48 0 54 0;
#X connect 49 0 40 0;
#X connect 50 0 53 0;
#X connect 51 0 52 0;
#X connect 52 0 50 0;
#X connect 53 0 40 0;
#X connect 57 0 40 0;
#X connect 58 0 57 1;
#X connect 58 0 49 0;
#X connect 59 0 58 0;
#X connect 60 0 58 0;
